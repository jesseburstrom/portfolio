(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{1688:(e,a,t)=>{"use strict";t.d(a,{default:()=>s});var r=t(5155),l=t(2115),o=t(9323);function s(e){let{skills:a,onUpdate:t}=e,[s,d]=(0,l.useState)(null),[i,n]=(0,l.useState)({name:"",category:"frontend",proficiency:1}),[c,h]=(0,l.useState)(!1),g=e=>{d(e)},x=async e=>{if(confirm("Are you sure you want to delete this skill?"))try{if(h(!0),!(await fetch("".concat("http://localhost:5000","/api/skills/").concat(e),{method:"DELETE",headers:{Authorization:"Bearer ".concat((0,o.c4)())}})).ok)throw Error("Failed to delete skill");await t()}catch(e){console.error("Error deleting skill:",e),alert("Failed to delete skill")}finally{h(!1)}},b=async e=>{if(e.preventDefault(),s)try{if(h(!0),!(await fetch("".concat("http://localhost:5000","/api/skills/").concat(s._id),{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat((0,o.c4)())},body:JSON.stringify(s)})).ok)throw Error("Failed to update skill");d(null),await t()}catch(e){console.error("Error updating skill:",e),alert("Failed to update skill")}finally{h(!1)}},u=async e=>{e.preventDefault();try{h(!0);let e=await fetch("".concat("http://localhost:5000","/api/skills"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat((0,o.c4)()),"Cache-Control":"no-cache"},body:JSON.stringify(i)});if(!e.ok)throw Error("Failed to create skill");let a=await e.json();console.log("New skill created:",a),n({name:"",category:"frontend",proficiency:1}),await t()}catch(e){console.error("Error creating skill:",e),alert("Failed to create skill")}finally{h(!1)}};return(0,r.jsxs)("div",{className:"space-y-8",children:[(0,r.jsxs)("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-lg border border-gray-200 dark:border-gray-700",children:[(0,r.jsx)("h3",{className:"text-xl font-bold mb-4 text-gray-800 dark:text-white",children:"Add New Skill"}),(0,r.jsxs)("form",{onSubmit:u,className:"space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Name"}),(0,r.jsx)("input",{type:"text",value:i.name,onChange:e=>n({...i,name:e.target.value}),placeholder:"Skill name",className:"w-full p-2 border rounded dark:bg-gray-700 dark:border-gray-600 text-gray-900 dark:text-white",required:!0,disabled:c})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Category"}),(0,r.jsxs)("select",{value:i.category,onChange:e=>n({...i,category:e.target.value}),className:"w-full p-2 border rounded dark:bg-gray-700 dark:border-gray-600 text-gray-900 dark:text-white",disabled:c,children:[(0,r.jsx)("option",{value:"frontend",children:"Frontend"}),(0,r.jsx)("option",{value:"backend",children:"Backend"}),(0,r.jsx)("option",{value:"tools",children:"Tools"}),(0,r.jsx)("option",{value:"other",children:"Other"})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Proficiency (1-5)"}),(0,r.jsx)("input",{type:"number",min:"1",max:"5",value:i.proficiency,onChange:e=>n({...i,proficiency:parseInt(e.target.value)}),className:"w-full p-2 border rounded dark:bg-gray-700 dark:border-gray-600 text-gray-900 dark:text-white",disabled:c})]}),(0,r.jsx)("button",{type:"submit",className:"w-full ".concat(c?"bg-gray-400 cursor-not-allowed":"bg-blue-500 hover:bg-blue-600"," text-white py-2 px-4 rounded transition-colors"),disabled:c,children:c?"Adding...":"Add Skill"})]})]}),(0,r.jsx)("div",{className:"space-y-4",children:a.map(e=>(0,r.jsx)("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-lg shadow-lg border border-gray-200 dark:border-gray-700",children:(null==s?void 0:s._id)===e._id?(0,r.jsxs)("form",{onSubmit:b,className:"space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Name"}),(0,r.jsx)("input",{type:"text",value:s.name,onChange:e=>d({...s,name:e.target.value}),className:"w-full p-2 border rounded dark:bg-gray-700 dark:border-gray-600 text-gray-900 dark:text-white",disabled:c})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Category"}),(0,r.jsxs)("select",{value:s.category,onChange:e=>d({...s,category:e.target.value}),className:"w-full p-2 border rounded dark:bg-gray-700 dark:border-gray-600 text-gray-900 dark:text-white",disabled:c,children:[(0,r.jsx)("option",{value:"frontend",children:"Frontend"}),(0,r.jsx)("option",{value:"backend",children:"Backend"}),(0,r.jsx)("option",{value:"tools",children:"Tools"}),(0,r.jsx)("option",{value:"other",children:"Other"})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Proficiency (1-5)"}),(0,r.jsx)("input",{type:"number",min:"1",max:"5",value:s.proficiency,onChange:e=>d({...s,proficiency:parseInt(e.target.value)}),className:"w-full p-2 border rounded dark:bg-gray-700 dark:border-gray-600 text-gray-900 dark:text-white",disabled:c})]}),(0,r.jsxs)("div",{className:"flex space-x-2",children:[(0,r.jsx)("button",{type:"submit",className:"flex-1 ".concat(c?"bg-gray-400 cursor-not-allowed":"bg-blue-500 hover:bg-blue-600"," text-white py-2 px-4 rounded transition-colors"),disabled:c,children:c?"Saving...":"Save"}),(0,r.jsx)("button",{type:"button",onClick:()=>d(null),className:"flex-1 bg-gray-500 text-white py-2 px-4 rounded hover:bg-gray-600 transition-colors",disabled:c,children:"Cancel"})]})]}):(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h4",{className:"font-medium text-gray-900 dark:text-white",children:e.name}),(0,r.jsxs)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Category: ",e.category," | Proficiency: ",e.proficiency,"/5"]})]}),(0,r.jsxs)("div",{className:"flex space-x-2",children:[(0,r.jsx)("button",{onClick:()=>g(e),className:"px-3 py-1 ".concat(c?"bg-gray-400 cursor-not-allowed":"bg-blue-500 hover:bg-blue-600"," text-white rounded transition-colors"),disabled:c,children:"Edit"}),(0,r.jsx)("button",{onClick:()=>x(e._id),className:"px-3 py-1 ".concat(c?"bg-gray-400 cursor-not-allowed":"bg-red-500 hover:bg-red-600"," text-white rounded transition-colors"),disabled:c,children:"Delete"})]})]})},e._id))})]})}},8661:(e,a,t)=>{Promise.resolve().then(t.t.bind(t,6874,23)),Promise.resolve().then(t.t.bind(t,3063,23)),Promise.resolve().then(t.bind(t,1688)),Promise.resolve().then(t.bind(t,6677))}},e=>{var a=a=>e(e.s=a);e.O(0,[411,63,874,677,441,684,358],()=>a(8661)),_N_E=e.O()}]);