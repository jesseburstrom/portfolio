(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[116],{4221:(e,r,t)=>{Promise.resolve().then(t.bind(t,5430))},5430:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>d});var a=t(5155),n=t(2115),o=t(5695),s=t(9323);function d(){let[e,r]=(0,n.useState)(""),[t,d]=(0,n.useState)(""),[i,c]=(0,n.useState)(""),l=(0,o.useRouter)(),u=async r=>{r.preventDefault();try{await (0,s.iD)(e,t),l.push("/"),l.refresh()}catch(e){e instanceof Error?c("Invalid credentials"):c("Something went wrong")}};return(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-100 dark:bg-gray-900",children:(0,a.jsxs)("div",{className:"max-w-md w-full space-y-8 p-8 bg-white dark:bg-gray-800 rounded-lg shadow",children:[(0,a.jsx)("div",{children:(0,a.jsx)("h2",{className:"text-center text-3xl font-extrabold text-gray-900 dark:text-white",children:"Admin Login"})}),(0,a.jsxs)("form",{className:"mt-8 space-y-6",onSubmit:u,children:[i&&(0,a.jsx)("div",{className:"text-red-500 text-center text-sm",children:i}),(0,a.jsxs)("div",{className:"rounded-md shadow-sm -space-y-px",children:[(0,a.jsx)("div",{children:(0,a.jsx)("input",{type:"text",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 dark:border-gray-700 dark:bg-gray-700 placeholder-gray-500 dark:placeholder-gray-400 text-gray-900 dark:text-white rounded-t-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm",placeholder:"Username",value:e,onChange:e=>r(e.target.value)})}),(0,a.jsx)("div",{children:(0,a.jsx)("input",{type:"password",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 dark:border-gray-700 dark:bg-gray-700 placeholder-gray-500 dark:placeholder-gray-400 text-gray-900 dark:text-white rounded-b-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm",placeholder:"Password",value:t,onChange:e=>d(e.target.value)})})]}),(0,a.jsx)("div",{children:(0,a.jsx)("button",{type:"submit",className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Sign in"})})]})]})})}},5695:(e,r,t)=>{"use strict";var a=t(8999);t.o(a,"usePathname")&&t.d(r,{usePathname:function(){return a.usePathname}}),t.o(a,"useRouter")&&t.d(r,{useRouter:function(){return a.useRouter}}),t.o(a,"useSearchParams")&&t.d(r,{useSearchParams:function(){return a.useSearchParams}})},9323:(e,r,t)=>{"use strict";t.d(r,{c4:()=>o,iD:()=>a,qc:()=>s,ri:()=>n});let a=async(e,r)=>{let t=await fetch("".concat("http://localhost:5000","/api/auth/login"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e,password:r})});if(!t.ok)throw Error("Login failed");let a=await t.json();return localStorage.setItem("adminToken",a.token),window.dispatchEvent(new Event("storage")),a},n=()=>{localStorage.removeItem("adminToken"),window.dispatchEvent(new Event("storage"))},o=()=>localStorage.getItem("adminToken"),s=()=>!!o()}},e=>{var r=r=>e(e.s=r);e.O(0,[441,684,358],()=>r(4221)),_N_E=e.O()}]);