(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[698],{1469:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var a in t)Object.defineProperty(e,a,{enumerable:!0,get:t[a]})}(t,{default:function(){return n},getImageProps:function(){return o}});let r=a(8229),l=a(8883),i=a(3063),s=r._(a(1193));function o(e){let{props:t}=(0,l.getImgProps)(e,{defaultLoader:s.default,imgConf:{deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!1}});for(let[e,a]of Object.entries(t))void 0===a&&delete t[e];return{props:t}}let n=i.Image},1688:(e,t,a)=>{"use strict";a.d(t,{default:()=>s});var r=a(5155),l=a(2115),i=a(9323);function s(e){let{skills:t,onUpdate:a}=e,[s,o]=(0,l.useState)(null),[n,d]=(0,l.useState)({name:"",category:"frontend",proficiency:1}),[c,u]=(0,l.useState)(!1),x=e=>{o(e)},g=async e=>{if(confirm("Are you sure you want to delete this skill?"))try{if(u(!0),!(await fetch("".concat("http://localhost:5000","/api/skills/").concat(e),{method:"DELETE",headers:{Authorization:"Bearer ".concat((0,i.c4)())}})).ok)throw Error("Failed to delete skill");await a()}catch(e){console.error("Error deleting skill:",e),alert("Failed to delete skill")}finally{u(!1)}},m=async e=>{if(e.preventDefault(),s)try{if(u(!0),!(await fetch("".concat("http://localhost:5000","/api/skills/").concat(s._id),{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat((0,i.c4)())},body:JSON.stringify(s)})).ok)throw Error("Failed to update skill");o(null),await a()}catch(e){console.error("Error updating skill:",e),alert("Failed to update skill")}finally{u(!1)}},h=async e=>{e.preventDefault();try{u(!0);let e=await fetch("".concat("http://localhost:5000","/api/skills"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat((0,i.c4)()),"Cache-Control":"no-cache"},body:JSON.stringify(n)});if(!e.ok)throw Error("Failed to create skill");let t=await e.json();console.log("New skill created:",t),d({name:"",category:"frontend",proficiency:1}),await a()}catch(e){console.error("Error creating skill:",e),alert("Failed to create skill")}finally{u(!1)}};return(0,r.jsxs)("div",{className:"space-y-8",children:[(0,r.jsxs)("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-lg border border-gray-200 dark:border-gray-700",children:[(0,r.jsx)("h3",{className:"text-xl font-bold mb-4 text-gray-800 dark:text-white",children:"Add New Skill"}),(0,r.jsxs)("form",{onSubmit:h,className:"space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Name"}),(0,r.jsx)("input",{type:"text",value:n.name,onChange:e=>d({...n,name:e.target.value}),placeholder:"Skill name",className:"w-full p-2 border rounded dark:bg-gray-700 dark:border-gray-600 text-gray-900 dark:text-white",required:!0,disabled:c})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Category"}),(0,r.jsxs)("select",{value:n.category,onChange:e=>d({...n,category:e.target.value}),className:"w-full p-2 border rounded dark:bg-gray-700 dark:border-gray-600 text-gray-900 dark:text-white",disabled:c,children:[(0,r.jsx)("option",{value:"frontend",children:"Frontend"}),(0,r.jsx)("option",{value:"backend",children:"Backend"}),(0,r.jsx)("option",{value:"tools",children:"Tools"}),(0,r.jsx)("option",{value:"other",children:"Other"})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Proficiency (1-5)"}),(0,r.jsx)("input",{type:"number",min:"1",max:"5",value:n.proficiency,onChange:e=>d({...n,proficiency:parseInt(e.target.value)}),className:"w-full p-2 border rounded dark:bg-gray-700 dark:border-gray-600 text-gray-900 dark:text-white",disabled:c})]}),(0,r.jsx)("button",{type:"submit",className:"w-full ".concat(c?"bg-gray-400 cursor-not-allowed":"bg-blue-500 hover:bg-blue-600"," text-white py-2 px-4 rounded transition-colors"),disabled:c,children:c?"Adding...":"Add Skill"})]})]}),(0,r.jsx)("div",{className:"space-y-4",children:t.map(e=>(0,r.jsx)("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-lg shadow-lg border border-gray-200 dark:border-gray-700",children:(null==s?void 0:s._id)===e._id?(0,r.jsxs)("form",{onSubmit:m,className:"space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Name"}),(0,r.jsx)("input",{type:"text",value:s.name,onChange:e=>o({...s,name:e.target.value}),className:"w-full p-2 border rounded dark:bg-gray-700 dark:border-gray-600 text-gray-900 dark:text-white",disabled:c})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Category"}),(0,r.jsxs)("select",{value:s.category,onChange:e=>o({...s,category:e.target.value}),className:"w-full p-2 border rounded dark:bg-gray-700 dark:border-gray-600 text-gray-900 dark:text-white",disabled:c,children:[(0,r.jsx)("option",{value:"frontend",children:"Frontend"}),(0,r.jsx)("option",{value:"backend",children:"Backend"}),(0,r.jsx)("option",{value:"tools",children:"Tools"}),(0,r.jsx)("option",{value:"other",children:"Other"})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Proficiency (1-5)"}),(0,r.jsx)("input",{type:"number",min:"1",max:"5",value:s.proficiency,onChange:e=>o({...s,proficiency:parseInt(e.target.value)}),className:"w-full p-2 border rounded dark:bg-gray-700 dark:border-gray-600 text-gray-900 dark:text-white",disabled:c})]}),(0,r.jsxs)("div",{className:"flex space-x-2",children:[(0,r.jsx)("button",{type:"submit",className:"flex-1 ".concat(c?"bg-gray-400 cursor-not-allowed":"bg-blue-500 hover:bg-blue-600"," text-white py-2 px-4 rounded transition-colors"),disabled:c,children:c?"Saving...":"Save"}),(0,r.jsx)("button",{type:"button",onClick:()=>o(null),className:"flex-1 bg-gray-500 text-white py-2 px-4 rounded hover:bg-gray-600 transition-colors",disabled:c,children:"Cancel"})]})]}):(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h4",{className:"font-medium text-gray-900 dark:text-white",children:e.name}),(0,r.jsxs)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Category: ",e.category," | Proficiency: ",e.proficiency,"/5"]})]}),(0,r.jsxs)("div",{className:"flex space-x-2",children:[(0,r.jsx)("button",{onClick:()=>x(e),className:"px-3 py-1 ".concat(c?"bg-gray-400 cursor-not-allowed":"bg-blue-500 hover:bg-blue-600"," text-white rounded transition-colors"),disabled:c,children:"Edit"}),(0,r.jsx)("button",{onClick:()=>g(e._id),className:"px-3 py-1 ".concat(c?"bg-gray-400 cursor-not-allowed":"bg-red-500 hover:bg-red-600"," text-white rounded transition-colors"),disabled:c,children:"Delete"})]})]})},e._id))})]})}},3276:(e,t,a)=>{"use strict";a.d(t,{F:()=>d});let r=[{_id:"1",title:"E-Commerce Platform",description:"A full-stack e-commerce platform built with Next.js, Node.js, and MongoDB",technologies:["Next.js","Node.js","MongoDB","Tailwind CSS"],imageUrl:"https://images.unsplash.com/photo-1557821552-17105176677c?q=80&w=1000&h=600",githubUrl:"https://github.com/username/ecommerce",liveUrl:"https://ecommerce-demo.com",date:"2024-12",featured:!0},{_id:"2",title:"Task Management App",description:"A collaborative task management application with real-time updates",technologies:["React","Express","Socket.io","PostgreSQL"],imageUrl:"https://images.unsplash.com/photo-1484480974693-6ca0a78fb36b?q=80&w=1000&h=600",githubUrl:"https://github.com/username/taskmanager",date:"2024-09",featured:!1}],l=[{_id:"1",name:"React",category:"frontend",proficiency:5,icon:"react"},{_id:"2",name:"Node.js",category:"backend",proficiency:4,icon:"nodejs"},{_id:"3",name:"MongoDB",category:"backend",proficiency:4,icon:"mongodb"},{_id:"4",name:"TypeScript",category:"frontend",proficiency:5,icon:"typescript"}],i=[{_id:"1",title:"Senior Software Engineer",company:"Tech Innovations Inc.",timeframe:"January 2022 - Present",description:"Leading the development of cloud-based solutions using React, Node.js, and AWS. Mentoring junior developers and implementing CI/CD pipelines.",order:1},{_id:"2",title:"Full Stack Developer",company:"Digital Solutions Ltd.",timeframe:"March 2019 - December 2021",description:"Developed and maintained web applications using the MERN stack. Collaborated with design and product teams to deliver high-quality software solutions.",order:2},{_id:"3",title:"Frontend Developer",company:"Creative Web Agency",timeframe:"June 2017 - February 2019",description:"Created responsive and interactive user interfaces using React and CSS frameworks. Worked closely with UX designers to implement pixel-perfect designs.",order:3}],s={_id:"1",name:"John Doe",title:"Full Stack Developer",bio:"Passionate full-stack developer with 5 years of experience building web applications. Specialized in React, Node.js, and cloud technologies.",location:"Stockholm, Sweden",phone:"+1 (123) 456-7890",email:"contact@example.com",imageUrl:"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?q=80&w=400&h=400",socialLinks:{github:"https://github.com/username",linkedin:"https://linkedin.com/in/username",twitter:"https://twitter.com/username"}},o="http://localhost:5000";async function n(e,t){try{let t=new AbortController,a=setTimeout(()=>t.abort(),5e3),r=await fetch("".concat(o,"/api").concat(e),{signal:t.signal,headers:{"Cache-Control":"no-cache",Pragma:"no-cache"}});if(clearTimeout(a),!r.ok)throw console.error("API request failed for ".concat(e,":"),{status:r.status,statusText:r.statusText}),Error("API request failed: ".concat(r.statusText));let l=await r.json();return l.data||l}catch(a){return console.warn("Failed to fetch ".concat(e,", using fallback data:"),a),t}}let d={getProjects:()=>n("/projects",r),getProject:async e=>{let t=await fetch("".concat(o,"/api/projects/").concat(e));if(!t.ok)throw Error("Failed to fetch project");return(await t.json()).data},createProject:async(e,t)=>{let a=await fetch("".concat(o,"/api/projects"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)},body:JSON.stringify(e)});if(!a.ok)throw Error((await a.json()).message||"Failed to create project");return(await a.json()).data},updateProject:async(e,t,a)=>{let r=await fetch("".concat(o,"/api/projects/").concat(e),{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(a)},body:JSON.stringify(t)});if(!r.ok)throw Error((await r.json()).message||"Failed to update project");return(await r.json()).data},deleteProject:async(e,t)=>{let a=await fetch("".concat(o,"/api/projects/").concat(e),{method:"DELETE",headers:{Authorization:"Bearer ".concat(t)}});if(!a.ok)throw Error((await a.json()).message||"Failed to delete project")},getSkills:()=>n("/skills",l),getSkill:async e=>{let t=await fetch("".concat(o,"/api/skills/").concat(e));if(!t.ok)throw Error("Failed to fetch skill");return(await t.json()).data},createSkill:async(e,t)=>{let a=await fetch("".concat(o,"/api/skills"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)},body:JSON.stringify(e)});if(!a.ok)throw Error((await a.json()).message||"Failed to create skill");return(await a.json()).data},updateSkill:async(e,t,a)=>{let r=await fetch("".concat(o,"/api/skills/").concat(e),{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(a)},body:JSON.stringify(t)});if(!r.ok)throw Error((await r.json()).message||"Failed to update skill");return(await r.json()).data},deleteSkill:async(e,t)=>{let a=await fetch("".concat(o,"/api/skills/").concat(e),{method:"DELETE",headers:{Authorization:"Bearer ".concat(t)}});if(!a.ok)throw Error((await a.json()).message||"Failed to delete skill")},getAbout:async()=>n("/about",s),updateAbout:async(e,t)=>{let a=await fetch("".concat(o,"/api/about"),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)},body:JSON.stringify(e)});if(!a.ok)throw Error((await a.json()).message||"Failed to update about information");return(await a.json()).data},getExperiences:async()=>n("/experiences",i),getExperience:async e=>n("/experiences/".concat(e),i[0]),createExperience:async(e,t)=>{let a=await fetch("".concat(o,"/api/experiences"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)},body:JSON.stringify(e)});if(!a.ok)throw Error((await a.json()).message||"Failed to create experience");return await a.json()},updateExperience:async(e,t,a)=>{let r=await fetch("".concat(o,"/api/experiences/").concat(e),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(a)},body:JSON.stringify(t)});if(!r.ok)throw Error((await r.json()).message||"Failed to update experience");return await r.json()},deleteExperience:async(e,t)=>{console.log("Attempting to delete experience with ID: ".concat(e)),console.log("API URL: ".concat(o,"/api/experiences/").concat(e));try{let a=new URL("".concat(o,"/api/experiences/").concat(e)),r=await fetch(a.toString(),{method:"DELETE",headers:{Authorization:"Bearer ".concat(t),"Content-Type":"application/json"}});if(console.log("Delete response status: ".concat(r.status)),!r.ok){let e="Failed to delete experience (Status: ".concat(r.status,")");try{let t=await r.json();console.error("Delete experience error response:",t),e=t.message||e}catch(e){console.error("Error parsing error response:",e)}throw Error(e)}console.log("Experience deleted successfully")}catch(e){throw console.error("Error in deleteExperience function:",e),e}}}},5695:(e,t,a)=>{"use strict";var r=a(8999);a.o(r,"usePathname")&&a.d(t,{usePathname:function(){return r.usePathname}}),a.o(r,"useRouter")&&a.d(t,{useRouter:function(){return r.useRouter}}),a.o(r,"useSearchParams")&&a.d(t,{useSearchParams:function(){return r.useSearchParams}})},6766:(e,t,a)=>{"use strict";a.d(t,{default:()=>l.a});var r=a(1469),l=a.n(r)},7449:(e,t,a)=>{Promise.resolve().then(a.bind(a,7841))},7841:(e,t,a)=>{"use strict";a.d(t,{default:()=>m});var r=a(5155),l=a(2115),i=a(5695),s=a(9323),o=a(3276),n=a(1688),d=a(8125);function c(e){var t;let{projects:a,onUpdate:i}=e,[n,c]=(0,l.useState)(null),[u,x]=(0,l.useState)({title:"",description:"",liveUrl:"",githubUrl:"",technologies:[],featured:!1}),[g,m]=(0,l.useState)(!1),[h,b]=(0,l.useState)(""),[p,y]=(0,l.useState)(null),[f,k]=(0,l.useState)(""),j=(0,l.useRef)(null),w=async e=>{var t;let a=null===(t=e.target.files)||void 0===t?void 0:t[0];if(!a)return;let r=(0,d.m_)(a);if(!r.valid){alert(r.message);return}y(a);let l=await (0,d.bB)(a);k(await (0,d.yh)(l))},v=(e,t)=>{"Enter"===e.key&&h.trim()&&(e.preventDefault(),"new"===t?x(e=>({...e,technologies:[...e.technologies||[],h.trim()]})):n&&c({...n,technologies:[...n.technologies,h.trim()]}),b(""))},N=(e,t)=>{"new"===t?x(t=>{var a;return{...t,technologies:(null===(a=t.technologies)||void 0===a?void 0:a.filter((t,a)=>a!==e))||[]}}):n&&c({...n,technologies:n.technologies.filter((t,a)=>a!==e)})},S=e=>{c(e),k(e.imageData||e.imageUrl||"")},E=async e=>{if(confirm("Are you sure you want to delete this project?"))try{m(!0),await o.F.deleteProject(e,(0,s.c4)()||""),await i()}catch(e){console.error("Error deleting project:",e),alert("Failed to delete project")}finally{m(!1)}},C=async e=>{if(e.preventDefault(),n)try{m(!0);let e={...n};if(p){let t=await (0,d.bB)(p);e.imageData=await (0,d.yh)(t),e.imageUrl=void 0}await o.F.updateProject(n._id,e,(0,s.c4)()||""),c(null),y(null),k(""),await i()}catch(e){console.error("Error updating project:",e),alert("Failed to update project")}finally{m(!1)}},P=async e=>{if(e.preventDefault(),!p){alert("Please select an image for the project");return}try{m(!0);let e=await (0,d.bB)(p),t=await (0,d.yh)(e),a={...u,imageData:t,date:new Date().toISOString().split("T")[0]};await o.F.createProject(a,(0,s.c4)()||""),x({title:"",description:"",liveUrl:"",githubUrl:"",technologies:[],featured:!1}),y(null),k(""),j.current&&(j.current.value=""),await i()}catch(e){console.error("Error creating project:",e),alert("Failed to create project")}finally{m(!1)}};return(0,r.jsxs)("div",{className:"space-y-8",children:[(0,r.jsxs)("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-lg border border-gray-200 dark:border-gray-700",children:[(0,r.jsx)("h3",{className:"text-xl font-bold mb-4 text-gray-800 dark:text-white",children:"Add New Project"}),(0,r.jsxs)("form",{onSubmit:P,className:"space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Title"}),(0,r.jsx)("input",{type:"text",value:u.title,onChange:e=>x({...u,title:e.target.value}),className:"w-full p-2 border rounded dark:bg-gray-700 dark:border-gray-600 text-gray-900 dark:text-white",required:!0,disabled:g})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Description"}),(0,r.jsx)("textarea",{value:u.description,onChange:e=>x({...u,description:e.target.value}),className:"w-full p-2 border rounded dark:bg-gray-700 dark:border-gray-600 text-gray-900 dark:text-white",rows:3,required:!0,disabled:g})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Project Image"}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("input",{ref:j,type:"file",accept:"image/*",onChange:w,className:"block w-full text-sm text-gray-500 dark:text-gray-400 file:mr-4 file:py-2 file:px-4 file:rounded-md file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100 dark:file:bg-blue-900 dark:file:text-blue-200",disabled:g}),f&&(0,r.jsx)("div",{className:"mt-2",children:(0,r.jsx)("img",{src:f,alt:"Preview",className:"max-w-xs h-auto rounded-lg shadow-md"})})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Live URL"}),(0,r.jsx)("input",{type:"url",value:u.liveUrl,onChange:e=>x({...u,liveUrl:e.target.value}),className:"w-full p-2 border rounded dark:bg-gray-700 dark:border-gray-600 text-gray-900 dark:text-white",disabled:g})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"GitHub URL"}),(0,r.jsx)("input",{type:"url",value:u.githubUrl,onChange:e=>x({...u,githubUrl:e.target.value}),className:"w-full p-2 border rounded dark:bg-gray-700 dark:border-gray-600 text-gray-900 dark:text-white",disabled:g})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Technologies (Press Enter to add)"}),(0,r.jsx)("input",{type:"text",value:h,onChange:e=>b(e.target.value),onKeyPress:e=>v(e,"new"),className:"w-full p-2 border rounded dark:bg-gray-700 dark:border-gray-600 text-gray-900 dark:text-white",placeholder:"Enter a technology...",disabled:g}),(0,r.jsx)("div",{className:"mt-2 flex flex-wrap gap-2",children:null===(t=u.technologies)||void 0===t?void 0:t.map((e,t)=>(0,r.jsxs)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200",children:[e,(0,r.jsx)("button",{type:"button",onClick:()=>N(t,"new"),className:"ml-1 text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-300",children:"\xd7"})]},t))})]}),(0,r.jsx)("button",{type:"submit",className:"w-full ".concat(g?"bg-gray-400 cursor-not-allowed":"bg-blue-500 hover:bg-blue-600"," text-white py-2 px-4 rounded transition-colors"),disabled:g,children:g?"Creating...":"Create Project"})]})]}),n&&(0,r.jsxs)("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-lg border border-gray-200 dark:border-gray-700",children:[(0,r.jsx)("h3",{className:"text-xl font-bold mb-4 text-gray-800 dark:text-white",children:"Edit Project"}),(0,r.jsxs)("form",{onSubmit:C,className:"space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Title"}),(0,r.jsx)("input",{type:"text",value:n.title,onChange:e=>c({...n,title:e.target.value}),className:"w-full p-2 border rounded dark:bg-gray-700 dark:border-gray-600 text-gray-900 dark:text-white",required:!0,disabled:g})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Description"}),(0,r.jsx)("textarea",{value:n.description,onChange:e=>c({...n,description:e.target.value}),className:"w-full p-2 border rounded dark:bg-gray-700 dark:border-gray-600 text-gray-900 dark:text-white",rows:3,required:!0,disabled:g})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Project Image"}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("input",{type:"file",accept:"image/*",onChange:w,className:"block w-full text-sm text-gray-500 dark:text-gray-400 file:mr-4 file:py-2 file:px-4 file:rounded-md file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100 dark:file:bg-blue-900 dark:file:text-blue-200",disabled:g}),f&&(0,r.jsx)("div",{className:"mt-2",children:(0,r.jsx)("img",{src:f,alt:"Preview",className:"max-w-xs h-auto rounded-lg shadow-md"})})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Live URL"}),(0,r.jsx)("input",{type:"url",value:n.liveUrl,onChange:e=>c({...n,liveUrl:e.target.value}),className:"w-full p-2 border rounded dark:bg-gray-700 dark:border-gray-600 text-gray-900 dark:text-white",disabled:g})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"GitHub URL"}),(0,r.jsx)("input",{type:"url",value:n.githubUrl,onChange:e=>c({...n,githubUrl:e.target.value}),className:"w-full p-2 border rounded dark:bg-gray-700 dark:border-gray-600 text-gray-900 dark:text-white",disabled:g})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Technologies (Press Enter to add)"}),(0,r.jsx)("input",{type:"text",value:h,onChange:e=>b(e.target.value),onKeyPress:e=>v(e,"edit"),className:"w-full p-2 border rounded dark:bg-gray-700 dark:border-gray-600 text-gray-900 dark:text-white",placeholder:"Enter a technology...",disabled:g}),(0,r.jsx)("div",{className:"mt-2 flex flex-wrap gap-2",children:n.technologies.map((e,t)=>(0,r.jsxs)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200",children:[e,(0,r.jsx)("button",{type:"button",onClick:()=>N(t,"edit"),className:"ml-1 text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-300",children:"\xd7"})]},t))})]}),(0,r.jsxs)("div",{className:"flex space-x-4",children:[(0,r.jsx)("button",{type:"submit",className:"flex-1 ".concat(g?"bg-gray-400 cursor-not-allowed":"bg-blue-500 hover:bg-blue-600"," text-white py-2 px-4 rounded transition-colors"),disabled:g,children:g?"Saving...":"Save Changes"}),(0,r.jsx)("button",{type:"button",onClick:()=>{c(null),y(null),k("")},className:"flex-1 bg-gray-500 hover:bg-gray-600 text-white py-2 px-4 rounded transition-colors",disabled:g,children:"Cancel"})]})]})]}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsx)("h3",{className:"text-xl font-bold text-gray-800 dark:text-white",children:"Existing Projects"}),(0,r.jsx)("div",{className:"grid grid-cols-1 gap-4",children:a.map(e=>(0,r.jsxs)("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-lg shadow border border-gray-200 dark:border-gray-700 flex justify-between items-center",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h4",{className:"text-lg font-medium text-gray-900 dark:text-white",children:e.title}),(0,r.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:e.description})]}),(0,r.jsxs)("div",{className:"flex space-x-2",children:[(0,r.jsx)("button",{onClick:()=>S(e),className:"px-3 py-1 bg-blue-500 text-white rounded hover:bg-blue-600 transition-colors",disabled:g,children:"Edit"}),(0,r.jsx)("button",{onClick:()=>E(e._id),className:"px-3 py-1 bg-red-500 text-white rounded hover:bg-red-600 transition-colors",disabled:g,children:"Delete"})]})]},e._id))})]})]})}function u(e){let{about:t,onUpdate:a}=e,[i,n]=(0,l.useState)(t),[c,u]=(0,l.useState)(!1),[x,g]=(0,l.useState)(null),[m,h]=(0,l.useState)(t.imageData||t.imageUrl||""),b=(0,l.useRef)(null),p=async e=>{var t;let a=null===(t=e.target.files)||void 0===t?void 0:t[0];if(!a)return;let r=(0,d.m_)(a);if(!r.valid){alert(r.message);return}g(a);let l=await (0,d.bB)(a);h(await (0,d.yh)(l))},y=async e=>{e.preventDefault();try{u(!0);let e={...i};if(x){let t=await (0,d.bB)(x);e.imageData=await (0,d.yh)(t),e.imageUrl=void 0}await o.F.updateAbout(e,(0,s.c4)()||""),await a()}catch(e){console.error("Error updating about information:",e),alert("Failed to update about information")}finally{u(!1)}};return(0,r.jsxs)("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-lg border border-gray-200 dark:border-gray-700",children:[(0,r.jsx)("h3",{className:"text-xl font-bold mb-4 text-gray-800 dark:text-white",children:"Edit About Information"}),(0,r.jsxs)("form",{onSubmit:y,className:"space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Name"}),(0,r.jsx)("input",{type:"text",value:i.name,onChange:e=>n({...i,name:e.target.value}),className:"w-full p-2 border rounded dark:bg-gray-700 dark:border-gray-600 text-gray-900 dark:text-white",required:!0,disabled:c})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Title"}),(0,r.jsx)("input",{type:"text",value:i.title,onChange:e=>n({...i,title:e.target.value}),className:"w-full p-2 border rounded dark:bg-gray-700 dark:border-gray-600 text-gray-900 dark:text-white",required:!0,disabled:c})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Profile Image"}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("input",{ref:b,type:"file",accept:"image/*",onChange:p,className:"block w-full text-sm text-gray-500 dark:text-gray-400 file:mr-4 file:py-2 file:px-4 file:rounded-md file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100 dark:file:bg-blue-900 dark:file:text-blue-200",disabled:c}),m&&(0,r.jsx)("div",{className:"mt-2",children:(0,r.jsx)("img",{src:m,alt:"Preview",className:"max-w-xs h-auto rounded-lg shadow-md"})})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Bio"}),(0,r.jsx)("textarea",{value:i.bio,onChange:e=>n({...i,bio:e.target.value}),className:"w-full p-2 border rounded dark:bg-gray-700 dark:border-gray-600 text-gray-900 dark:text-white",rows:4,required:!0,disabled:c})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Location"}),(0,r.jsx)("input",{type:"text",value:i.location,onChange:e=>n({...i,location:e.target.value}),className:"w-full p-2 border rounded dark:bg-gray-700 dark:border-gray-600 text-gray-900 dark:text-white",required:!0,disabled:c})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Email"}),(0,r.jsx)("input",{type:"email",value:i.email,onChange:e=>n({...i,email:e.target.value}),className:"w-full p-2 border rounded dark:bg-gray-700 dark:border-gray-600 text-gray-900 dark:text-white",required:!0,disabled:c})]}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsx)("h4",{className:"text-lg font-medium text-gray-800 dark:text-white",children:"Social Links"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"GitHub"}),(0,r.jsx)("input",{type:"url",value:i.socialLinks.github,onChange:e=>n({...i,socialLinks:{...i.socialLinks,github:e.target.value}}),className:"w-full p-2 border rounded dark:bg-gray-700 dark:border-gray-600 text-gray-900 dark:text-white",placeholder:"https://github.com/yourusername",disabled:c})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"LinkedIn"}),(0,r.jsx)("input",{type:"url",value:i.socialLinks.linkedin,onChange:e=>n({...i,socialLinks:{...i.socialLinks,linkedin:e.target.value}}),className:"w-full p-2 border rounded dark:bg-gray-700 dark:border-gray-600 text-gray-900 dark:text-white",placeholder:"https://linkedin.com/in/yourusername",disabled:c})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Twitter"}),(0,r.jsx)("input",{type:"url",value:i.socialLinks.twitter,onChange:e=>n({...i,socialLinks:{...i.socialLinks,twitter:e.target.value}}),className:"w-full p-2 border rounded dark:bg-gray-700 dark:border-gray-600 text-gray-900 dark:text-white",placeholder:"https://twitter.com/yourusername",disabled:c})]})]}),(0,r.jsx)("button",{type:"submit",className:"w-full ".concat(c?"bg-gray-400 cursor-not-allowed":"bg-blue-500 hover:bg-blue-600"," text-white py-2 px-4 rounded transition-colors"),disabled:c,children:c?"Saving...":"Save Changes"})]})]})}function x(e){let{experiences:t,onUpdate:a}=e,[i,n]=(0,l.useState)(!1),[d,c]=(0,l.useState)(null),[u,x]=(0,l.useState)(!1);console.log("AdminExperienceManager rendered with experiences:",t);let[g,m]=(0,l.useState)({title:"",company:"",timeframe:"",description:"",order:0}),h=()=>{m({title:"",company:"",timeframe:"",description:"",order:0}),n(!1),c(null)},b=()=>{n(!0),c(null),m({title:"",company:"",timeframe:"",description:"",order:t.length+1})},p=e=>{n(!1),c(e._id),m({title:e.title,company:e.company,timeframe:e.timeframe,description:e.description,order:e.order||0})},y=async e=>{e.preventDefault();try{x(!0);let e=(0,s.c4)();if(!e){alert("You must be logged in to perform this action");return}i?await o.F.createExperience(g,e):d&&await o.F.updateExperience(d,g,e),h(),await a()}catch(e){console.error("Error saving experience:",e),alert("Failed to save experience")}finally{x(!1)}},f=async e=>{if(confirm("Are you sure you want to delete this experience?"))try{x(!0);let t=(0,s.c4)();if(!t){alert("You must be logged in to perform this action");return}await o.F.deleteExperience(e,t),await a(),d===e&&h()}catch(e){console.error("Error deleting experience:",e),alert("Failed to delete experience")}finally{x(!1)}};return(0,r.jsxs)("div",{className:"space-y-8",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[(0,r.jsx)("h3",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Manage Experiences"}),!i&&!d&&(0,r.jsx)("button",{onClick:b,disabled:u,className:"bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-md disabled:opacity-50",children:"Add New Experience"})]}),(i||d)&&(0,r.jsxs)("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-lg border border-gray-200 dark:border-gray-700",children:[(0,r.jsx)("h4",{className:"text-lg font-semibold mb-4 text-gray-900 dark:text-white",children:i?"Add New Experience":"Edit Experience"}),(0,r.jsxs)("form",{onSubmit:y,className:"space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Job Title"}),(0,r.jsx)("input",{type:"text",value:g.title,onChange:e=>m({...g,title:e.target.value}),className:"w-full p-2 border rounded dark:bg-gray-700 dark:border-gray-600 text-gray-900 dark:text-white",required:!0,disabled:u})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Company"}),(0,r.jsx)("input",{type:"text",value:g.company,onChange:e=>m({...g,company:e.target.value}),className:"w-full p-2 border rounded dark:bg-gray-700 dark:border-gray-600 text-gray-900 dark:text-white",required:!0,disabled:u})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Timeframe"}),(0,r.jsx)("input",{type:"text",value:g.timeframe,onChange:e=>m({...g,timeframe:e.target.value}),className:"w-full p-2 border rounded dark:bg-gray-700 dark:border-gray-600 text-gray-900 dark:text-white",placeholder:"e.g., January 2022 - Present",required:!0,disabled:u})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Description"}),(0,r.jsx)("textarea",{value:g.description,onChange:e=>m({...g,description:e.target.value}),className:"w-full p-2 border rounded dark:bg-gray-700 dark:border-gray-600 text-gray-900 dark:text-white",rows:4,required:!0,disabled:u})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Order (Lower numbers shown first)"}),(0,r.jsx)("input",{type:"number",value:g.order,onChange:e=>m({...g,order:parseInt(e.target.value)}),className:"w-full p-2 border rounded dark:bg-gray-700 dark:border-gray-600 text-gray-900 dark:text-white",min:0,disabled:u})]}),(0,r.jsxs)("div",{className:"flex space-x-3",children:[(0,r.jsx)("button",{type:"submit",className:"bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-md disabled:opacity-50",disabled:u,children:u?"Saving...":"Save Experience"}),(0,r.jsx)("button",{type:"button",onClick:h,className:"bg-gray-300 hover:bg-gray-400 text-gray-800 px-4 py-2 rounded-md disabled:opacity-50",disabled:u,children:"Cancel"})]})]})]}),(0,r.jsx)("div",{className:"space-y-4",children:0===t.length?(0,r.jsxs)("div",{className:"text-center py-8",children:[(0,r.jsx)("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:'No experiences found. Click "Add New Experience" to create one.'}),!i&&!d&&(0,r.jsx)("button",{onClick:b,className:"bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-md",children:"Add New Experience"})]}):t.sort((e,t)=>(e.order||0)-(t.order||0)).map(e=>(0,r.jsxs)("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-lg shadow border border-gray-200 dark:border-gray-700",children:[(0,r.jsxs)("div",{className:"flex justify-between items-start mb-2",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h4",{className:"text-lg font-medium text-gray-900 dark:text-white",children:e.title}),(0,r.jsxs)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[e.company," â€¢ ",e.timeframe]})]}),(0,r.jsxs)("div",{className:"flex space-x-2",children:[(0,r.jsx)("button",{onClick:()=>p(e),disabled:u,className:"text-blue-600 hover:text-blue-800 dark:text-blue-400 dark:hover:text-blue-300",children:"Edit"}),(0,r.jsx)("button",{onClick:()=>f(e._id),disabled:u,className:"text-red-600 hover:text-red-800 dark:text-red-400 dark:hover:text-red-300",children:"Delete"})]})]}),(0,r.jsx)("p",{className:"text-gray-700 dark:text-gray-300 text-sm line-clamp-2",children:e.description}),(0,r.jsxs)("div",{className:"mt-2 text-xs text-gray-500 dark:text-gray-500",children:["Order: ",e.order||0]})]},e._id))})]})}var g=a(6766);function m(){let e=(0,i.useRouter)(),t=(0,i.useSearchParams)().get("tab"),[a,d]=(0,l.useState)("skills"),[m,h]=(0,l.useState)([]),[b,p]=(0,l.useState)([]),[y,f]=(0,l.useState)(null),[k,j]=(0,l.useState)([]),[w,v]=(0,l.useState)(!0),[N,S]=(0,l.useState)(!1);(0,l.useEffect)(()=>{let a=(0,s.qc)();if(S(a),!a){e.push("/");return}t&&["skills","projects","about","experiences"].includes(t)?d(t):d("skills"),(async()=>{v(!0);try{let[e,t,a,r]=await Promise.all([o.F.getSkills(),o.F.getProjects(),o.F.getAbout(),o.F.getExperiences()]);console.log("Fetched experiences:",r),h(e),p(t),f(a),j(r)}catch(e){console.error("Error fetching data:",e)}finally{v(!1)}})()},[e,t]),(0,l.useEffect)(()=>{t&&["skills","projects","about","experiences"].includes(t)?d(t):N&&d("skills")},[t,N]);let E=async()=>{try{v(!0);let[e,t,a,r]=await Promise.all([o.F.getProjects(),o.F.getSkills(),o.F.getAbout(),o.F.getExperiences()]);h(t),p(e),f(a),j(r)}catch(e){console.error("Error refreshing data:",e)}finally{v(!1)}};if(!N)return(0,r.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,r.jsx)("p",{children:"Redirecting..."})});if(w||!y)return(0,r.jsx)("div",{className:"min-h-screen bg-gray-100 dark:bg-gray-900 py-12 px-4 sm:px-6 lg:px-8",children:(0,r.jsx)("div",{className:"max-w-7xl mx-auto",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("h2",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Loading Admin Dashboard..."}),(0,r.jsx)("div",{className:"mt-4 inline-block animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-blue-500"})]})})});let C=t=>{d(t),e.push("/admin?tab=".concat(t),{scroll:!1})};return(0,r.jsx)("div",{className:"min-h-screen bg-gray-100 dark:bg-gray-900 py-12 px-4 sm:px-6 lg:px-8",children:(0,r.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,r.jsxs)("div",{className:"text-center mb-8",children:[(0,r.jsx)("h2",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Admin Dashboard"}),(0,r.jsx)("p",{className:"mt-2 text-gray-600 dark:text-gray-400",children:"Manage your portfolio content"})]}),(0,r.jsx)("div",{className:"border-b border-gray-200 dark:border-gray-700 mb-8",children:(0,r.jsx)("nav",{className:"-mb-px flex space-x-8","aria-label":"Tabs",children:["skills","projects","experiences","about"].map(e=>(0,r.jsx)("button",{onClick:()=>C(e),className:"\n                  ".concat(a===e?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300 hover:border-gray-300","\n                  whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm capitalize\n                "),children:e},e))})}),"about"===a&&y&&(0,r.jsx)("div",{className:"mb-8 p-6 bg-white dark:bg-gray-800 rounded-lg shadow-md",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("h3",{className:"text-2xl font-bold text-gray-800 dark:text-white mb-2",children:y.name}),(0,r.jsx)("p",{className:"text-lg text-gray-600 dark:text-gray-400 mb-4",children:y.title}),(()=>{let e=y.imageData||y.imageUrl;return e?(0,r.jsx)("div",{className:"flex justify-center mb-6",children:(0,r.jsx)(g.default,{src:e,alt:y.name,width:192,height:192,className:"rounded-lg shadow-md object-contain"})}):null})(),(0,r.jsx)("p",{className:"text-gray-700 dark:text-gray-300 max-w-2xl mx-auto text-left prose dark:prose-invert",children:y.bio})]})}),(0,r.jsxs)("div",{className:"mt-8",children:["skills"===a&&(0,r.jsx)(n.default,{skills:m,onUpdate:E}),"projects"===a&&(0,r.jsx)(c,{projects:b,onUpdate:E}),"experiences"===a&&(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(x,{experiences:k,onUpdate:E})}),"about"===a&&y&&(0,r.jsx)(u,{about:y,onUpdate:E})]})]})})}},8125:(e,t,a)=>{"use strict";a.d(t,{Oh:()=>s,bB:()=>r,m_:()=>l,yh:()=>i});let r=e=>new Promise((t,a)=>{let r=new FileReader;r.readAsDataURL(e),r.onload=()=>t(r.result),r.onerror=e=>a(e)}),l=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5;return e.type.startsWith("image/")?e.size>1048576*t?{valid:!1,message:"Image size must be less than ".concat(t,"MB")}:{valid:!0}:{valid:!1,message:"File must be an image"}},i=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:800,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:600,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.7;return new Promise((l,i)=>{let s=new Image;s.src=e,s.onload=()=>{let e=s.width,o=s.height;e>t&&(o=Math.round(o*t/e),e=t),o>a&&(e=Math.round(e*a/o),o=a);let n=document.createElement("canvas");n.width=e,n.height=o;let d=n.getContext("2d");if(!d){i(Error("Could not get canvas context"));return}d.drawImage(s,0,0,e,o),l(n.toDataURL("image/jpeg",r))},s.onerror=()=>i(Error("Error loading image"))})},s=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500,a=.7,r=800,l=600,s=await i(e,r,l,a),o=e=>3*e.split(",")[1].length/4/1024,n=o(s);console.log("Initial compressed size: ".concat(n.toFixed(2),"KB"));let d=0;for(;n>t&&d<5;)d++,a>.3?a-=.1:(r=Math.round(.8*r),l=Math.round(.8*l)),n=o(s=await i(e,r,l,a)),console.log("Compression attempt ".concat(d,": ").concat(n.toFixed(2),"KB (Quality: ").concat(a.toFixed(1),", Dimensions: ").concat(r,"x").concat(l,")"));return s}},9323:(e,t,a)=>{"use strict";a.d(t,{c4:()=>i,iD:()=>r,qc:()=>s,ri:()=>l});let r=async(e,t)=>{let a=await fetch("".concat("http://localhost:5000","/api/auth/login"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e,password:t})});if(!a.ok)throw Error("Login failed");let r=await a.json();return localStorage.setItem("adminToken",r.token),window.dispatchEvent(new Event("storage")),r},l=()=>{localStorage.removeItem("adminToken"),window.dispatchEvent(new Event("storage"))},i=()=>localStorage.getItem("adminToken"),s=()=>!!i()}},e=>{var t=t=>e(e.s=t);e.O(0,[63,441,684,358],()=>t(7449)),_N_E=e.O()}]);